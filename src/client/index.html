<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>tank war</title>
    </head>
    <body>
        <script type="text/javascript">
            function connect(){
                if('WebSocket' in window){
                    // 打开一个 web socket
                    var ws = new WebSocket("ws://localhost:1991");
                    ws.onopen = () => {
                        ws.send('我连接上了');
                    }

                    ws.onmessage = (msg) => {
                        console.log(`client: ${msg.data}`);
                    }

                    ws.onclose = () => {
                        console.log('连接已经关闭');
                    }

                    ws.onerror = (err) => {
                        console.log(`failed: ${JSON.stringify(err)}`);
                    }
                }else{
                    alert("您的浏览器不支持 WebSocket!");
                }
            }
        </script>
        <button type="button" onclick="connect()">连接服务器</button>
    </body>
</html>
